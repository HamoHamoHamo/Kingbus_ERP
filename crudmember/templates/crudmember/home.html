{% extends 'base.html' %}
{% load custom_tags %}
{% load static %}

{% block head %}
<link href="{% static 'css/crudmember/calender.css' %}" rel="stylesheet" type="text/css" />
{% endblock %}

{% block content-header %}
<div class="HeaderTitle">
  <!-- 페이지별 Title 변경 -->
  HOME
</div>
{% endblock %}

{% block content %}

<div class="basic_container schdule_search">
  <div class="dispatch_print_form">
    <div class="basic_btn print_route">
      노선별
      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14">
        <path id="Icon_awesome-print" data-name="Icon awesome-print"
          d="M12.25,5.25V2.112a.876.876,0,0,0-.256-.619L10.756.256A.875.875,0,0,0,10.137,0H2.625A.875.875,0,0,0,1.75.875V5.25A1.75,1.75,0,0,0,0,7v3.063a.437.437,0,0,0,.438.438H1.75v2.625A.875.875,0,0,0,2.625,14h8.75a.875.875,0,0,0,.875-.875V10.5h1.313A.437.437,0,0,0,14,10.063V7A1.75,1.75,0,0,0,12.25,5.25Zm-1.75,7h-7V9.625h7Zm0-6.125h-7V1.75H8.75V3.063a.437.437,0,0,0,.438.438H10.5Zm1.313,1.969a.656.656,0,1,1,.656-.656A.656.656,0,0,1,11.813,8.094Z"
          fill="#fff" />
      </svg>
    </div>
    <div class="basic_btn print_bus">
      호수별
      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14">
        <path id="Icon_awesome-print" data-name="Icon awesome-print"
          d="M12.25,5.25V2.112a.876.876,0,0,0-.256-.619L10.756.256A.875.875,0,0,0,10.137,0H2.625A.875.875,0,0,0,1.75.875V5.25A1.75,1.75,0,0,0,0,7v3.063a.437.437,0,0,0,.438.438H1.75v2.625A.875.875,0,0,0,2.625,14h8.75a.875.875,0,0,0,.875-.875V10.5h1.313A.437.437,0,0,0,14,10.063V7A1.75,1.75,0,0,0,12.25,5.25Zm-1.75,7h-7V9.625h7Zm0-6.125h-7V1.75H8.75V3.063a.437.437,0,0,0,.438.438H10.5Zm1.313,1.969a.656.656,0,1,1,.656-.656A.656.656,0,0,1,11.813,8.094Z"
          fill="#fff" />
      </svg>
    </div>
    <div class="basic_btn bus_inspection">정기 점걸일</div>
  </div>
  <div class="dispatch_search_form">
    <label for="schedule_dispatch_search">일반배차 노선명</label>
    <input type="text" class="basic_input search_input ordre_calender_search" id="schedule_dispatch_search">
    <div class="basic_btn ordre_calender_search_btn">검색</div>
  </div>
</div>

<div class="basic_container schdule_main">

  <div class="calender_btn_box">
    <div class="calender_btn_box_date">
      <div class="date_controll_Btn prev_btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="18.469" viewBox="0 0 16 18.469">
          <path id="Icon_feather-triangle" data-name="Icon feather-triangle"
            d="M10.051,5.2l-7.486,12.5a1.768,1.768,0,0,0,1.511,2.652H19.049a1.768,1.768,0,0,0,1.511-2.652L13.074,5.2a1.768,1.768,0,0,0-3.023,0Z"
            transform="translate(-4.346 20.797) rotate(-90)" fill="#fff" />
        </svg>
      </div>
      <span class="calender_date"></span>
      <div class="date_controll_Btn next_btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="18.469" viewBox="0 0 16 18.469">
          <path id="Icon_feather-triangle" data-name="Icon feather-triangle"
            d="M10.051,5.2l-7.486,12.5a1.768,1.768,0,0,0,1.511,2.652H19.049a1.768,1.768,0,0,0,1.511-2.652L13.074,5.2a1.768,1.768,0,0,0-3.023,0Z"
            transform="translate(20.346 -2.328) rotate(90)" fill="#fff" />
        </svg>
      </div>
    </div>
    <div class="basic_btn calendar_switch_btn">
      <svg xmlns="http://www.w3.org/2000/svg" width="13.045" height="13.5" viewBox="0 0 13.045 13.5">
        <g id="Icon_ionic-md-switch" data-name="Icon ionic-md-switch" transform="translate(-5.875 -5.625)">
          <path id="패스_284" data-name="패스 284"
            d="M8.12,10.841h5.542a3.068,3.068,0,1,0,0-4.3H8.12a2.148,2.148,0,1,0,0,4.3Zm-.648-2.8a.912.912,0,0,1,.648-.272h4.806a3.056,3.056,0,0,0,0,1.841H8.12a.917.917,0,0,1-.648-1.569Z"
            transform="translate(0)" fill="#fff" />
          <path id="패스_285" data-name="패스 285"
            d="M18.671,20.045H13.133a3.068,3.068,0,1,0,0,4.3h5.538a2.148,2.148,0,1,0,0-4.3Zm.648,2.8a.912.912,0,0,1-.648.272h-4.8a3.056,3.056,0,0,0,0-1.841h4.8a.917.917,0,0,1,.648,1.569Z"
            transform="translate(-2 -6.136)" fill="#fff" />
        </g>
      </svg>
      <span></span>
    </div>
  </div>

  <div class="calender_header">
    <div class="weekBox weekBox_sunday">일</div>
    <div class="weekBox">월</div>
    <div class="weekBox">화</div>
    <div class="weekBox">수</div>
    <div class="weekBox">목</div>
    <div class="weekBox">금</div>
    <div class="weekBox weekBox_satday">토</div>
  </div>

  <div class="calender_body">
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
    <div class="calender_date_box">
      <div class="calender_date_cell">
        <span></span>
      </div>
    </div>
  </div>

</div>


<div class="cloneBox">

  <div class="calender_contants_box">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" class="dispatch_check">
      <g id="그룹_1857" data-name="그룹 1857" transform="translate(23532 14680)">
        <rect id="사각형_12248" data-name="사각형 12248" width="20" height="20" rx="10" transform="translate(-23532 -14680)"
          fill="#cdcdce" />
        <path id="Icon_awesome-check" data-name="Icon awesome-check"
          d="M4.076,13.35l-3.9-3.9a.6.6,0,0,1,0-.849l.849-.849a.6.6,0,0,1,.849,0L4.5,10.38l5.627-5.627a.6.6,0,0,1,.849,0l.849.849a.6.6,0,0,1,0,.849l-6.9,6.9A.6.6,0,0,1,4.076,13.35Z"
          transform="translate(-23528 -14678.577)" fill="#fff" />
      </g>
    </svg>
    <div class="dispatch_cnt_box">
      <div class="regularly_cnt_cell">
        <span>출·퇴근</span>
        <span></span>
      </div>
      <div class="order_cnt_cell">
        <span>일반</span>
        <span></span>
      </div>
    </div>
    <div class="calender_schedule_Cell"></div>
  </div>

  <div class="calender_order_box">
    <div class="calender_order_cell"></div>
    <div class="calender_order_total">
      <span>총 건수</span>
      <span class="calender_order_total_cnt"></span>
    </div>
  </div>

</div>

{% endblock %}



{% block popup %}
<div class="basic_popup schedule_popup">
  <div class="basic_popup_bg"></div>
  <div class="basic_popup_box">
    <div class="basic_popup_main_header">일정</div>
    <div class="basic_popup_header">일정등록</div>
    <form method="post" action="{% url 'dispatch:schedule_create' %}" class="basic_popup_body schedule_create_form">
      {% csrf_token %}
      <div class="popup_input_article">
        <input type="text" name="content" class="basic_input" placeholder="등록할 일정을 입력해 주세요">
        <div class="create_btn">등록</div>
        <input type="hidden" name="date" class="schedule_create_hidden">
      </div>
    </form>
    <div class="basic_popup_header">일정목록</div>
    <form method="post" action="{% url 'dispatch:schedule_delete' %}" class="basic_popup_body schedule_list_form">
      {% csrf_token %}
      <div class="basic_table_header_box">
        <table class="basic_table_head schedule_list_table">
          <thead>
            <tr class="basic_table_head_tr">
              <td class="basic_table_head_tr_td">
                <input type="checkbox" class="schedule_checkbox_all">
              </td>
              <td class="basic_table_head_tr_td">순번</td>
              <td class="basic_table_head_tr_td">내용</td>
              <td class="basic_table_head_tr_td">작성자</td>
              <td class="basic_table_head_tr_td">작성일</td>
            </tr>
          </thead>
        </table>
      </div>
      <div class="basic_table_scroll_box schedule_list_table_scroll_box">
        <table class="basic_scroll_table">
          <tbody>
          </tbody>
        </table>
      </div>
    </form>
    <div class="basic_popup_footer">
      <div class="delete_btn schedule_list_delete_btn">삭제</div>
      <div class="basic_btn popup_btn-close">닫기</div>
    </div>
  </div>
</div>


<div class="basic_popup dispatch_check_popup">
  <div class="basic_popup_bg"></div>
  <div class="basic_popup_box">
    <div class="basic_popup_main_header">배차확인</div>
    <form method="post" action="{% url 'dispatch:calendar_create' %}" class="basic_popup_body dispatch_check_form">
      {% csrf_token %}
      <div class="popup_input_article">
        <div class="dispat_check_cell">
          <label>담 당 자</label>
          <div class="dispat_check_showbox"></div>
        </div>
        <div class="dispat_check_cell">
          <label>확 인 시 간</label>
          <div class="dispat_check_showbox"></div>
        </div>
      </div>
      <input type="hidden" name="date" class="dispatch_check_hidden">
    </form>
    <div class="basic_popup_footer">
      <div class="create_btn dispatch_check_registration">등록</div>
      <div class="basic_btn popup_btn-close">닫기</div>
    </div>
  </div>
</div>


<div class="basic_popup inspection_popup">
  <div class="basic_popup_bg"></div>
  <div class="basic_popup_box">
    <div class="basic_popup_main_header">차량 정기점검일</div>
    <div class="basic_popup_body">
      <div class="basic_table_header_box">
        <table class="basic_table_head">
          <thead>
            <tr class="basic_table_head_tr">
              <td class="basic_table_head_tr_td">순번</td>
              <td class="basic_table_head_tr_td">차량번호</td>
              <td class="basic_table_head_tr_td">출고일자</td>
              <td class="basic_table_head_tr_td">정기점검일</td>
            </tr>
          </thead>
        </table>
      </div>
      <div class="basic_table_scroll_box inspection_scroll_table">
        <table class="basic_scroll_table">
          <tbody>
            {% for vehicle in vehicle_list %}
            <tr onclick="locationVehicle(this)">
              <td>{{forloop.counter}}</td>
              <td>
                <div class="table_click_box">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" class="table_click_icon">
                    <g id="그룹_1858" data-name="그룹 1858" transform="translate(-1820 -80)">
                      <rect id="사각형_12180" data-name="사각형 12180" width="20" height="20" rx="3" transform="translate(1820 80)" fill="#61b4e5"/>
                      <path id="Icon_payment-clickandbuy" data-name="Icon payment-clickandbuy" d="M24.272,19.9a1.393,1.393,0,0,1,0,1.964L21.129,25a1.389,1.389,0,1,1-1.964-1.964l.764-.764H17a1.394,1.394,0,0,1-.989-2.382A1.529,1.529,0,0,1,17,19.482h2.932l-.764-.761a1.388,1.388,0,0,1,0-1.964,1.388,1.388,0,0,1,1.964,0l3.143,3.14ZM12.96,18.943A1.854,1.854,0,0,0,11.106,20.8,1.854,1.854,0,0,0,12.96,22.65,1.854,1.854,0,0,0,14.813,20.8a1.854,1.854,0,0,0-1.854-1.854Z" transform="translate(1811.895 69.121)" fill="#fff"/>
                    </g>
                  </svg>
                  <div class="table_click_contents">{{vehicle.vehicle_num0}} {{vehicle.vehicle_num}}</div>
                </div>
              </td>
              <td>{{vehicle.release_date}}</td>
              <td>{{vehicle.check_date}}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
    <div class="basic_popup_footer">
      <div class="basic_btn popup_btn-close">닫기</div>
    </div>
  </div>
</div>
{% endblock %}


{% block script %}
<script>
  const totalBusCnt = {{ total_bus_cnt }}
  const curBusCnt = {{ cur_bus_cnt }}
  const r_totalBusCnt = {{ r_total_bus_cnt }}
  const r_curBusCnt = {{ r_cur_bus_cnt }}

  {% autoescape off %}
  const scheduleList = {{ schedule_list }}
  const checkList = {{ check_list }}
  const changeOrderList = {{ change_order_list }}
  {% endautoescape %}
</script>
<script src="{% static 'js/crudmember/calender/calenderDate.js' %}"></script>
<script src="{% static 'js/crudmember/calender/calenderSwitch.js' %}"></script>
<script src="{% static 'js/crudmember/calender/calenderCreate.js' %}"></script>
<script src="{% static 'js/crudmember/calender/calenderFillData.js' %}"></script>
<script src="{% static 'js/crudmember/calender/calenderSelect.js' %}"></script>
<script src="{% static 'js/crudmember/calender/schedulePopup.js' %}"></script>
<script src="{% static 'js/crudmember/calender/locationDispatch.js' %}"></script>
<script src="{% static 'js/crudmember/calender/dispatchCheckPopup.js' %}"></script>
<script src="{% static 'js/crudmember/calender/dispatchCalenderFilter.js' %}"></script>
<script src="{% static 'js/crudmember/calender/inspectionPopup.js' %}"></script>
<script src="{% static 'js/crudmember/calender/print.js' %}"></script>
{% endblock %}