{% extends 'base.html' %}
{% load static %}
{% block head %}
<link rel="stylesheet" href="{% static 'css/notice/notice_kinds.css' %}" type="text/css" />
<link href="{% static 'css/basic_pagination.css' %}" rel="stylesheet" type="text/css" />
{% endblock %}

{% block content-header %}
<!--trp HeaderTitle-->
<div class="HeaderTitle">
  <div class="HeaderTitleIcorn">
    <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewbox="0 0 24 24"
      width="24px" fill="#FFFFFF">
      <g>
        <rect fill="none" height="24" width="24" />
        <path
          d="M17,12c-2.76,0-5,2.24-5,5s2.24,5,5,5c2.76,0,5-2.24,5-5S19.76,12,17,12z M18.65,19.35l-2.15-2.15V14h1v2.79l1.85,1.85 L18.65,19.35z M18,3h-3.18C14.4,1.84,13.3,1,12,1S9.6,1.84,9.18,3H6C4.9,3,4,3.9,4,5v15c0,1.1,0.9,2,2,2h6.11 c-0.59-0.57-1.07-1.25-1.42-2H6V5h2v3h8V5h2v5.08c0.71,0.1,1.38,0.31,2,0.6V5C20,3.9,19.1,3,18,3z M12,5c-0.55,0-1-0.45-1-1 c0-0.55,0.45-1,1-1c0.55,0,1,0.45,1,1C13,4.55,12.55,5,12,5z" />
      </g>
    </svg>
  </div>
  <!-- 페이지별 Title 변경 -->
  공지사항
</div>
{% endblock %}



{% block content-nav %}
<ul class="nav">
  <a href="{% url 'notice:kinds' 'driver' %}">
    <li class="navList navFirst">
      기사님 공지사항
    </li>
  </a>
  </li>
  <a href="{% url 'notice:kinds' 'office' %}">
    <li class="navList navLast">
      사무실 공지사항
    </li>
  </a>
  </li>
</ul>
{% endblock %}

{% block content %}

<div class="contentsBoxCell" id="contentsBoxCellNoticeKinds">

  <div class="contentsBoxHeader">
    {% if kinds == "driver" %} 기사님 공지사항
    {% elif kinds == "office" %} 사무실 공지사항
    {% endif %}
    <div class="button contentsBoxHeaderButton">
      <a href="{% url 'notice:create' %}">글쓰기</a>
    </div>
  </div>


  <div class="contentsBoxContents">

    <form action="" method="get" id='top_box-form'>
      <div class="searchTool">
        <select form=top_box-form name="top_box_selector" class="searchToolSelect" id="noticeKindsSearchToolSelect">
          <option value="title" {% if selector == 'title' %} selected {% endif %}>제목</option>
          <option value="creator" {% if selector == 'creator' %} selected {% endif %}>작성자</option>
        </select>
        <input type="text" name="search" class="searchToolText" id="noticeKindsSearchToolText" value={{searched}}>
        <input type="submit" value="검색" class="button" id="noticeKindsButton">
      </div>
    </form>

    <div class="tableBox" id="noticeKindsTableBox">
      <table class="list_table_cell" id="list_table_cell__header">
        <thead class="list_table_cell__header__thead">
          <tr>
            <td class="notice_kinds_list__num">번호</td>
            <td class="notice_kinds_list__title">제목</td>
            <td class="notice_kinds_list__name">작성자</td>
            <td class="notice_kinds_list__date">등록일</td>
            <td class="notice_kinds_list__views" id="lastTdPadding">조회</td>
          </tr>
        </thead>
      </table>
      <div class="tableAutoBox">
        <table class="list_table_cell" id="list_table_cell__notice_kinds_list">
          <tbody class="list_table_cell__tbody">
            {% for notice in notices %}
            <tr class="list_table_cell__tbody__tr" id="list_table_cell__tbody__tr_notice">
              <td class="notice_kinds_list__num">{{notice.num}}</td>
              <td class="notice_kinds_list__title">
                <a href="{% url 'notice:detail' kinds notice.id %}">{{notice.title}}</a>
              </td>
              <td class="notice_kinds_list__name">{{notice.creator.name}}</td>
              <td class="notice_kinds_list__date">{{notice.pub_date | date:'Y.m.d H:i'}}</td>
              <td class="notice_kinds_list__views">{{notice.view_cnt}}</td>
            </tr>
            {% endfor %}

          </tbody>
        </table>
      </div>

    </div>

  </div>

</div>

<div class="notice_contents_kinds_driver__page_box">
  <div class="notice_contents_kinds_driver__page_box__paging">
    <!-- 페이징 처리 -->
    {% if is_paginated %}
    <div class="pagination">
      {% if page_obj.has_previous %}
      <div class="page-item page-pre">
        <a class="page-link"
          href="?top_box_selector={{selector}}&search={{searched}}&page={{ page_obj.previous_page_number }}"
          tabindex="-1">이전</a>
      </div>
      {% else %}
      <div class="page-item page-pre disabled">
        <a class="page-link" href="#" tabindex="-1">이전</a>
      </div>
      {% endif %}
      {% for page in page_range %}
      <div class="page-item {% if page == page_obj.number %} page-activate {% endif %}">
        <a class="page-link" href="?top_box_selector={{selector}}&search={{searched}}&page={{ page }}">{{ page }}</a>
      </div>
      {% endfor %}

      {% if page_obj.has_next %}
      <div class="page-item">
        <a class="page-link page-next"
          href="?top_box_selector={{selector}}&search={{searched}}&page={{ page_obj.next_page_number }}">다음</a>
      </div>
      {% else %}
      <div class="page-item page-next disabled">
        <a class="page-link" href="#">다음</a>
      </div>
      {% endif %}
    </div>
    {% endif %}
  </div>
</div>

</div>
</div>
{% endblock %}