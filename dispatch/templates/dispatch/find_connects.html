{% extends 'base.html' %}
{% load static %}
{% block head %}
<meta http-equiv="Cache-Control" content="private, no-cache, no-store, max-age=0, must-revalidate">
<link rel="stylesheet" href="{% static 'css/assignment/assignment.css' %}" type="text/css" />
<link rel="stylesheet" href="{% static 'css/assignment/temporaryAssignment.css' %}" type="text/css" />
<link rel="stylesheet" href="{% static 'css/dispatch/findConnects.css' %}" type="text/css" />
{% endblock %}

{% block content-header %}
<div class="HeaderTitle">
    공차계산
</div>
{% endblock %}

{% block content %}

<div class="searchAreaBox">
    <form action="">
        <div class="searchTool">
            
            <div class="filterBox">
                <span class="searchName">검색</span>
                <select name="week">
                    <option></option>
                    <option {% if week == '월' %}selected{% endif %} value="월">월</option>
                    <option {% if week == '화' %}selected{% endif %} value="화">화</option>
                    <option {% if week == '수' %}selected{% endif %} value="수">수</option>
                    <option {% if week == '목' %}selected{% endif %} value="목">목</option>
                    <option {% if week == '금' %}selected{% endif %} value="금">금</option>
                    <option {% if week == '토' %}selected{% endif %} value="토">토</option>
                    <option {% if week == '일' %}selected{% endif %} value="일">일</option>
                </select>
            </div>
            <input autocomplete="off" type="submit" value="검색" class="btnModules">
        </div>
    </form>
    <div class="searchAreaRight">
    </div>
</div>


<form method="post" class="vehicleListForm">
    {% csrf_token %}
    <div class="contentsAreaBox">
        <table class="tableHead">
            <thead>
                <tr class="headerLine">
                    <td>번호</td>
                    <td>그룹</td>
                    <td>노선명</td>
                    <td>운행시간</td>
                    <td>출발지 ▶ 도착지</td>
                    <td>요일</td>
                </tr>
            </thead>
        </table>
        <div class="tableScroll">
            <table class="tableBody">
                <tbody>
                    {% for order in data_list %}
                    <tr class="tr {{order.id}}">
                        <td>{{forloop.counter}}</td>
                        <td>{{order.group.name}}</td>
                        <td>{{order.route}}</td>
                        <td>{{order.departure_time}} ~ {{order.arrival_time}}</td>
                        <td>{{order.departure}} ▶
                            {{order.arrival}}
                        </td>
                        <td>{{order.week}}</td>
                    </tr>
                    {% endfor %}
                    <tr class="blankTr"></tr>
                </tbody>
            </table>
        </div>
    </div>
</form>
{% endblock %}

{% block popup %}
<div class="popupAreaModules">
    <div class="popupBgModules"></div>
    <form method="post" action="{% url 'assignment:temporary_assignment_create' %}" class="popupContainer popupContainerDouble assignmentForm"
        enctype="multipart/form-data">
        {% csrf_token %}
        <div class="popupHeader">
            <div class="popupTitle">일반업무등록</div>
        </div>
        <div class="popupBody vehiclePopupBody">
            <div class="popupSection popupSectionEdit">
                <div class="popupDataTableScroll popupTable">
                    <table class="popupDataTable">
                        <thead class="popupThead">
                            <td>기준노선 종료시간</td>
                            <td>공차시간</td>
                            <td>운행시간</td>
                            <td>노선명</td>
                            <td>공차거리</td>
                            <td>출발지</td>
                            <td>도착지</td>
                            <td>요일</td>
                            <td>운행가능여부</td>
    
                        </thead>
                        <tbody class="popupDataTableBody"></tbody>
                    </table>
                </div>
                
                <input autocomplete="off" type="hidden" value="" name="id" class="sendToHidden">
            </div>
            <div class="popupFooter popupFooterDetail">
                <div class="popupFooterLeftDiv">
                    <div class="btnModules backgroundBlack deleteBtn">삭제</div>
                </div>
                <div class="popupFooterRightDiv">
                    <div class="btnModules submitBtn">등록</div>
                    <div class="btnModules closeBtn">닫기</div>
                </div>
            </div>
        </div>
    </form>
</div>

{% endblock %}






{% block script %}
<script>
    const DETAIL_URL = "{% url 'dispatch:find_connects_detail' %}"
    
</script>
<script type="module" src="{% static 'js/dispatch/regularly_route/findConnectsDetail.js' %}"></script>
{% endblock %}