{% load dispatch_custom_tags %}
{% load static %}
<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>TRP</title>
    <link href="{% static 'css/humanresource/print.css' %}" rel="stylesheet" type="text/css" />
    <link href="" id="printSizeCss" rel="stylesheet" type="text/css" />
</head>

<body>
    {% for data in member_list %}
    <div class="salaryStatus">
        <div class="salaryStatusTitle">{{month|slice:':4'}}년 {{month|slice:'5:7'}}월 급여현황</div>

        <div class="signBox">
            <span>{{data.member.name}}</span>
            <span>(서명)</span>
        </div>

        <table class="personalInformationTable">
            <colgroup>
                <col style="width: 7%">
                <col style="width: 8%">
                <col style="width: 23%">
                <col style="width: 8%">
                <col style="width: 23%">
                <col style="width: 8%">
                <col style="width: 23%">
            </colgroup>
            <tr>
                <td rowspan="2" class="titleTd">
                    인적<br>
                    사항
                </td>
                <td class="titleTd">회사명</td>
                <td>성화투어</td>
                <td class="titleTd">성명</td>
                <td>{{data.member.name}}</td>
                <td class="titleTd">생년월일</td>
                <td>{{data.member.birthdate}}</td>
            </tr>
            <tr>
                <td class="titleTd">직급</td>
                <td>{{data.member.role}}</td>
                <td class="titleTd">입사일</td>
                <td>{{data.member.entering_date}}</td>
                <td class="titleTd">지급일</td>
                <td>{{data.salary_date}}</td>
            </tr>
        </table>

        <table class="dateListTable">
            <colgroup>
                <col style="width: 5%">
                <col style="width: 23%">
                <col style="width: 6%">
                <col style="width: 23%">
                <col style="width: 6%">
                <col style="width: 23%">
                <col style="width: 6%">
                <col style="width: 8%">
            </colgroup>
            <thead>
                <tr>
                    <td>일자</td>
                    <td>출근운행</td>
                    <td>출근수당</td>
                    <td>퇴근운행</td>
                    <td>퇴근수당</td>
                    <td>일반운행</td>
                    <td>일반수당</td>
                    <td>일일합계</td>
                </tr>
            </thead>
            <tbody>
                {% for i in data.order_list %}
                <tr>
                    <td>{{forloop.counter}}{{data.week_list|index:forloop.counter0}}</td>
                    <td title="{{data.attendance_list|index:forloop.counter0}}">
                        {% for d in data.attendance_list|index:forloop.counter0 %}
                            {{d.0|slice:':4'}}. {{d.1|slice:':4'}}/
                        {% endfor %}
                    </td>
                    <td class="printComma">
                        {% if data.attendance_list|index:forloop.counter0 %}
                            {{data.attendance_price_list|index:forloop.counter0}}
                        {% endif %}
                    </td>
                    <!-- <td>기흥기숙.마북동 /</td> -->
                    <td title="{{data.leave_list|index:forloop.counter0}}">
                        {% for d in data.leave_list|index:forloop.counter0 %}
                            {{d.0|slice:':4'}}. {{d.1|slice:':4'}}/
                        {% endfor %}
                    </td>
                    <td class="printComma">
                        {% if data.leave_list|index:forloop.counter0 %}
                            {{data.leave_price_list|index:forloop.counter0}}
                        {% endif %}
                    </td>
                    <!-- <td>
                        화성금곡.국립중앙/     화성금곡.국립중앙/<br>
                        화성금곡.국립중앙/
                    </td> -->
                    <td title="{{data.order_list|index:forloop.counter0}}">
                        {% for d in data.order_list|index:forloop.counter0 %}
                            {{d|index:0|slice:':4'}}. {{d|index:1|slice:':4'}} /
                        {% endfor %}
                    </td>
                    <td class="printComma">
                        {% if data.order_list|index:forloop.counter0 %}
                            {{data.order_price_list|index:forloop.counter0}}
                        {% endif %}
                    </td>
                    <td class="printComma">
                        {% if data.order_list|index:forloop.counter0 or data.attendance_list|index:forloop.counter0 or data.leave_list|index:forloop.counter0 %}
                            {{data.total_list|index:forloop.counter0}}
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
                <tr class="workTotal">
                    <td>소계</td>
                    <td colspan="2">{{data.attendance_cnt}}</td>
                    <td colspan="2">{{data.leave_cnt}}</td>
                    <td colspan="2">{{data.order_cnt}}</td>
                    <td>{{data.total_cnt}}</td>
                </tr>
            </tbody>
        </table>

        <div class="moreInforArea">

            <table class="additionalSalaryTable">
                <colgroup>
                    <col style="width: 10%">
                    <col style="width: 90%">
                </colgroup>
                <tr>
                    <td rowspan="2" class="titleTd">
                        추<br>
                        가<br>
                        수<br>
                        당
                    </td>
                    <td class="titleTd">지급사유</td>
                </tr>
                <tr>
                    <td>
                        
                        {% for add in data.additional %}
                            ({{add.price}}){{add.remark}} /
                        {% endfor %}
                    </td>
                </tr>
                <tr>
                    <td rowspan="2" class="titleTd">
                        공<br>
                        제<br>
                    </td>
                    <td class="titleTd">공제사유</td>
                </tr>
                <tr>
                    <td>
                        {% for ded in data.deduction %}
                            ({{ded.price}}){{ded.remark}} /
                        {% endfor %}
                    </td>
                </tr>
            </table>

            <div class="amountBox">

                <table class="allMountTable">
                    <colgroup>
                        <col style="width: 20%">
                        <col style="width: 30%">
                        <col style="width: 20%">
                        <col style="width: 30%">
                    </colgroup>
                    <tr>
                        <td class="titleTd">출근수당</td>
                        <td class="printComma">{{data.salary.attendance}}</td>
                        <td class="titleTd">기본수당</td>
                        <td class="printComma">{{data.salary.base}}</td>
                    </tr>
                    <tr>
                        <td class="titleTd">퇴근수당</td>
                        <td class="printComma">{{data.salary.leave}}</td>
                        <td class="titleTd">근속수당</td>
                        <td class="printComma">{{data.salary.service_allowance}}</td>
                    </tr>
                    <tr>
                        <td class="titleTd">일반수당</td>
                        <td class="printComma">{{data.salary.order}}</td>
                        <td class="titleTd">성과급</td>
                        <td class="printComma">{{data.salary.performance_allowance}}</td>
                    </tr>
                    <tr>
                        <td class="titleTd">추가수당</td>
                        <td class="printComma">{{data.salary.additional}}</td>
                        <td class="titleTd">식대</td>
                        <td class="printComma">{{data.meal}}</td>
                    </tr>
                    <tr>
                        <td class="titleTd">연차수당</td>
                        <td class="printComma">{{data.salary.annual_allowance}}</td>
                        <td class="titleTd">공제</td>
                        <td class="printComma">{{data.salary.deduction}}</td>
                    </tr>
                </table>

                <!-- <table class="totalAmountTable">
                    <colgroup>
                        <col style="width: 20%">
                        <col style="width: 30%">
                        <col style="width: 20%">
                        <col style="width: 30%">
                    </colgroup>
                    <tr>
                        <td class="titleTd">합계</td>
                        <td class="printComma">{{data.salary.total|add:data.salary.deduction}}</td>
                        <td class="titleTd">공제</td>
                        <td class="printComma">{{data.salary.deduction}}</td>
                    </tr>
                </table> -->

                <table class="salaryTable">
                    <colgroup>
                        <col style="width: 20%">
                        <col style="width: 80%">
                    </colgroup>
                    <tr>
                        <td class="titleTd">급여</td>
                        <td class="printComma">{{data.salary.total}}</td>
                    </tr>
                </table>

            </div>
        </div>
        
    </div>
    {% endfor %}



    {% block script %}
    <script src="{% static 'js/hr/printAddComma.js' %}"></script>
    {% endblock %}
</body>

</html>